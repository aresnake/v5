# ares/install_dependencies.py

import subprocess
import sys
from ares.core.logger import get_logger

log = get_logger("DependencyInstaller")

REQUIRED_PACKAGES = [
    "pyyaml>=6.0",
    "openai>=1.0.0",
    "requests",
    "httpx",
    "speechrecognition",
    "pyaudio",
    "matplotlib",
    "pytest",
    "flake8",
    "autoflake"
]

def install_package(pkg):
    try:
        log.info(f"üì¶ Installation : {pkg}")
        subprocess.check_call([sys.executable, "-m", "pip", "install", pkg])
        log.info(f"‚úÖ {pkg} install√© avec succ√®s.")
    except Exception as e:
        log.error(f"‚ùå Erreur installation {pkg} : {e}")

def install_all():
    log.info("üîç V√©rification des d√©pendances Python...")
    for pkg in REQUIRED_PACKAGES:
        install_package(pkg)

if __name__ == "__main__":
    install_all()

